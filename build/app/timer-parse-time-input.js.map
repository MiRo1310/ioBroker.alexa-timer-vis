{
  "version": 3,
  "sources": ["../../src/app/timer-parse-time-input.ts"],
  "sourcesContent": ["import { errorLogger } from '@/lib/logging';\nimport { timerObject } from '@/config/timer-data';\nimport store from '@/store/store';\nimport { countOccurrences } from '@/lib/string';\n\nexport const timerParseTimeInput = (\n    inputs: string[],\n): {\n    stringToEvaluate: string;\n    name: string;\n    deleteVal: number;\n} => {\n    try {\n        let stringToEvaluate = '';\n        let name = '';\n\n        let deleteVal = store.isDeleteTimer() ? 1 : 0; // 1 = deleteTimer, 2 = stopAll\n\n        // This is for special cases like \"zwei dreiviertel stunden\" or \"ein ein halb stunden\"\n        for (let i = 0; i < inputs.length; i++) {\n            const input = inputs[i];\n            const isElementOfSingleNumbers = input in timerObject.singleNumbers;\n            const singleNumberValue = timerObject.singleNumbers[input as keyof typeof timerObject.singleNumbers];\n            if (\n                isElementOfSingleNumbers &&\n                inputs[i + 1] in timerObject.singleNumbers &&\n                inputs[i + 2] in timerObject.fraction\n            ) {\n                stringToEvaluate = `(${singleNumberValue}+${timerObject.singleNumbers[inputs[i + 1] as keyof typeof timerObject.singleNumbers]}*${timerObject.fraction[inputs[i + 2] as keyof typeof timerObject.fraction]})*3600`;\n\n                inputs.splice(i, 3);\n                break;\n            }\n            if (isElementOfSingleNumbers && inputs[i + 1] && inputs[i + 1].includes('dreiviertel')) {\n                stringToEvaluate = `(${singleNumberValue}+${timerObject.fraction[inputs[i + 1] as keyof typeof timerObject.fraction]})*3600`;\n                inputs.splice(i, 2);\n                break;\n            }\n        }\n        for (const _input of inputs) {\n            const { connector, notNoted, stopAll, hour, minute, second } = timerObject.timerActive.data;\n            const input = _input.toLowerCase().trim();\n\n            if (notNoted.indexOf(input) >= 0) {\n                continue;\n            }\n\n            if (stopAll.indexOf(input) >= 0) {\n                deleteVal++;\n                continue;\n            }\n\n            if (connector.indexOf(input) >= 0) {\n                if (stringToEvaluate.charAt(stringToEvaluate.length - 1) !== '+') {\n                    stringToEvaluate += '+';\n                }\n                continue;\n            }\n\n            if (hour.indexOf(input) >= 0 && !stringToEvaluate.includes('*3600')) {\n                stringToEvaluate += ')*3600+';\n                continue;\n            }\n\n            if (minute.indexOf(input) >= 0) {\n                stringToEvaluate += ')*60+';\n                continue;\n            }\n\n            if (second.indexOf(input) >= 0 && stringToEvaluate.charAt(stringToEvaluate.length - 1) != ')') {\n                stringToEvaluate += ')';\n                continue;\n            }\n\n            const fractionElement = timerObject.fraction[input as keyof typeof timerObject.fraction];\n\n            if (fractionElement && !stringToEvaluate.includes('*3600')) {\n                if (stringToEvaluate.charAt(stringToEvaluate.length - 1) == '') {\n                    stringToEvaluate += '(1';\n                }\n                stringToEvaluate += `*${fractionElement})*3600`;\n                continue;\n            }\n\n            const elNumber: number | undefined = timerObject.numbers[input as keyof typeof timerObject.numbers];\n            if (elNumber) {\n                if (timerObject.digits.indexOf(stringToEvaluate.charAt(stringToEvaluate.length - 1)) == -1) {\n                    if (stringToEvaluate.charAt(stringToEvaluate.length - 3) != '(') {\n                        stringToEvaluate += `(${elNumber}`;\n                    } else {\n                        stringToEvaluate += elNumber;\n                    }\n                    continue;\n                }\n                if (input == 'hundert') {\n                    stringToEvaluate += `*${elNumber}`;\n                    continue;\n                }\n\n                stringToEvaluate += `+${elNumber}`;\n                continue;\n            }\n\n            const elementAsNumber = parseInt(input);\n            if (!isNaN(elementAsNumber)) {\n                if (stringToEvaluate == '') {\n                    stringToEvaluate = '(';\n                }\n                if (stringToEvaluate.endsWith('+')) {\n                    stringToEvaluate += '(';\n                }\n                stringToEvaluate += elementAsNumber;\n                continue;\n            }\n            const notAsName = [...notNoted, 'stunde', 'stunden', 'minute', 'minuten', 'sekunde', 'sekunden'];\n            if (!(store.isShortenTimer() || store.isExtendTimer()) && !notAsName.includes(input)) {\n                name = input.trim();\n            }\n        }\n\n        if (stringToEvaluate.charAt(stringToEvaluate.length - 1) == '+') {\n            stringToEvaluate = stringToEvaluate.slice(0, stringToEvaluate.length - 1);\n        }\n        if (inputs.length) {\n            stringToEvaluate = hasMinutes(stringToEvaluate);\n            stringToEvaluate = checkFirstChartForBracket(stringToEvaluate);\n        }\n        if (countOccurrences(stringToEvaluate, ')') > countOccurrences(stringToEvaluate, '(')) {\n            stringToEvaluate = `(${stringToEvaluate}`;\n        }\n\n        return { stringToEvaluate, name, deleteVal: deleteVal > 2 ? 2 : deleteVal };\n    } catch (e: any) {\n        errorLogger('Error in filterInfo', e);\n        return { stringToEvaluate: '', name: '', deleteVal: 0 };\n    }\n};\n\nfunction hasMinutes(timerString: string): string {\n    if (timerString.includes('*3600')) {\n        if (\n            !timerString.includes('*60') &&\n            timerString.slice(timerString.length - 5, timerString.length) != '*3600' &&\n            timerString.charAt(timerString.length - 1) != ')'\n        ) {\n            timerString += ')*60';\n        }\n    }\n    return timerString;\n}\n\nfunction checkFirstChartForBracket(timerString: string): string {\n    if (timerString.charAt(0) == ')') {\n        timerString = timerString.slice(2, timerString.length);\n    }\n    return timerString;\n}\n"],
  "mappings": "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",
  "names": ["store"]
}
