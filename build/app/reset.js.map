{
  "version": 3,
  "sources": ["../../src/app/reset.ts"],
  "sourcesContent": ["import { useStore } from '@/store/store';\nimport { errorLogger } from '../lib/logging';\nimport { timerObject } from '@/config/timer-data';\nimport type { Timer } from '@/app/timer';\nimport type AlexaTimerVis from '@/main';\nimport { writeState } from '@/app/write-state';\n\nexport const resetValues = async (timer: Timer): Promise<void> => {\n    const { _this, getAlexaTimerVisInstance } = useStore();\n    const index = timer.getTimerIndex();\n    if (!index) {\n        return;\n    }\n    try {\n        timerObject.timerActive.timer[index] = false; // Timer auf false setzen falls Zeit abgelaufen ist, ansonsten steht er schon auf false\n        _this.log.debug(JSON.stringify(timerObject.timerActive));\n        timer.reset();\n\n        await _this.setObject(getAlexaTimerVisInstance() + index, {\n            type: 'device',\n            common: { name: `` },\n            native: {},\n        });\n    } catch (e: any) {\n        errorLogger('Error in resetValues', e, _this);\n    }\n};\n\nexport function resetAllTimerValuesAndState(_this: AlexaTimerVis): void {\n    Object.keys(timerObject.timer).forEach(el => {\n        resetValues(timerObject.timer[el]).catch(e => {\n            errorLogger('Error in resetAllTimerValuesAndState', e, _this);\n        });\n\n        writeState({ reset: true }).catch(e => {\n            errorLogger('Error in resetAllTimerValuesAndState', e, _this);\n        });\n    });\n    _this.setStateChanged('all_Timer.alive', false, true);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAyB;AACzB,qBAA4B;AAC5B,wBAA4B;AAG5B,yBAA2B;AAEpB,MAAM,cAAc,OAAO,UAAgC;AAC9D,QAAM,EAAE,OAAO,yBAAyB,QAAI,uBAAS;AACrD,QAAM,QAAQ,MAAM,cAAc;AAClC,MAAI,CAAC,OAAO;AACR;AAAA,EACJ;AACA,MAAI;AACA,kCAAY,YAAY,MAAM,KAAK,IAAI;AACvC,UAAM,IAAI,MAAM,KAAK,UAAU,8BAAY,WAAW,CAAC;AACvD,UAAM,MAAM;AAEZ,UAAM,MAAM,UAAU,yBAAyB,IAAI,OAAO;AAAA,MACtD,MAAM;AAAA,MACN,QAAQ,EAAE,MAAM,GAAG;AAAA,MACnB,QAAQ,CAAC;AAAA,IACb,CAAC;AAAA,EACL,SAAS,GAAQ;AACb,oCAAY,wBAAwB,GAAG,KAAK;AAAA,EAChD;AACJ;AAEO,SAAS,4BAA4B,OAA4B;AACpE,SAAO,KAAK,8BAAY,KAAK,EAAE,QAAQ,QAAM;AACzC,gBAAY,8BAAY,MAAM,EAAE,CAAC,EAAE,MAAM,OAAK;AAC1C,sCAAY,wCAAwC,GAAG,KAAK;AAAA,IAChE,CAAC;AAED,uCAAW,EAAE,OAAO,KAAK,CAAC,EAAE,MAAM,OAAK;AACnC,sCAAY,wCAAwC,GAAG,KAAK;AAAA,IAChE,CAAC;AAAA,EACL,CAAC;AACD,QAAM,gBAAgB,mBAAmB,OAAO,IAAI;AACxD;",
  "names": []
}
