{
  "version": 3,
  "sources": ["../../src/app/write-state-interval.ts"],
  "sourcesContent": ["import store from '@/store/store';\nimport { timerObject } from '@/config/timer-data';\nimport { writeStates } from '@/app/write-state';\nimport { errorLogger } from '@/lib/logging';\n\n/**\n * Starts an interval to periodically write the state of all active timers.\n */\nexport const writeStateIntervall = (): void => {\n    const { adapter } = store;\n    try {\n        if (store.interval) {\n            return;\n        }\n        store.interval = adapter.setInterval((): void => {\n            writeStates({ reset: false }).catch((e: any) => {\n                errorLogger('Error in writeStateIntervall', e);\n            });\n\n            if (!Object.keys(timerObject.timer)?.find(t => timerObject.timer[t].isActive)) {\n                adapter.setStateChanged('all_Timer.alive', false, true);\n                adapter.clearInterval(store.interval);\n                store.interval = null;\n\n                adapter.log.debug('Intervall stopped!');\n            }\n        }, timerObject.timerActive.data.interval);\n    } catch (e: any) {\n        errorLogger('Error in writeStateIntervall', e);\n        adapter.clearInterval(store.interval);\n    }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAClB,wBAA4B;AAC5B,yBAA4B;AAC5B,qBAA4B;AAKrB,MAAM,sBAAsB,MAAY;AAC3C,QAAM,EAAE,QAAQ,IAAI,aAAAA;AACpB,MAAI;AACA,QAAI,aAAAA,QAAM,UAAU;AAChB;AAAA,IACJ;AACA,iBAAAA,QAAM,WAAW,QAAQ,YAAY,MAAY;AAdzD;AAeY,0CAAY,EAAE,OAAO,MAAM,CAAC,EAAE,MAAM,CAAC,MAAW;AAC5C,wCAAY,gCAAgC,CAAC;AAAA,MACjD,CAAC;AAED,UAAI,GAAC,YAAO,KAAK,8BAAY,KAAK,MAA7B,mBAAgC,KAAK,OAAK,8BAAY,MAAM,CAAC,EAAE,YAAW;AAC3E,gBAAQ,gBAAgB,mBAAmB,OAAO,IAAI;AACtD,gBAAQ,cAAc,aAAAA,QAAM,QAAQ;AACpC,qBAAAA,QAAM,WAAW;AAEjB,gBAAQ,IAAI,MAAM,oBAAoB;AAAA,MAC1C;AAAA,IACJ,GAAG,8BAAY,YAAY,KAAK,QAAQ;AAAA,EAC5C,SAAS,GAAQ;AACb,oCAAY,gCAAgC,CAAC;AAC7C,YAAQ,cAAc,aAAAA,QAAM,QAAQ;AAAA,EACxC;AACJ;",
  "names": ["store"]
}
