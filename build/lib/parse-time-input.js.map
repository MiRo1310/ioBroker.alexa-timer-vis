{
  "version": 3,
  "sources": ["../../src/lib/parse-time-input.ts"],
  "sourcesContent": ["import { countOccurrences } from '@/lib/global';\nimport { errorLogger } from '@/lib/logging';\nimport { timerObject } from '@/config/timer-data';\nimport { useStore } from '@/store/store';\n\nexport const parseTimeInput = (\n    inputs: string[],\n): {\n    timerString: string;\n    name: string;\n    deleteVal: number;\n} => {\n    const store = useStore();\n    const _this = store._this;\n    try {\n        let timerString = '';\n        let name = '';\n\n        let deleteVal = store.isDeleteTimer() ? 1 : 0; // 1 = deleteTimer, 2 = stopAll\n\n        // This is for special cases like \"zwei dreiviertel stunden\" or \"ein ein halb stunden\"\n        for (let i = 0; i < inputs.length; i++) {\n            const input = inputs[i];\n            const isElementOfSingleNumbers = input in timerObject.singleNumbers;\n            const singleNumberValue = timerObject.singleNumbers[input as keyof typeof timerObject.singleNumbers];\n            if (\n                isElementOfSingleNumbers &&\n                inputs[i + 1] in timerObject.singleNumbers &&\n                inputs[i + 2] in timerObject.fraction\n            ) {\n                timerString = `(${singleNumberValue}+${timerObject.singleNumbers[inputs[i + 1] as keyof typeof timerObject.singleNumbers]}*${timerObject.fraction[inputs[i + 2] as keyof typeof timerObject.fraction]})*3600`;\n\n                inputs.splice(i, 3);\n                break;\n            }\n            if (isElementOfSingleNumbers && inputs[i + 1] && inputs[i + 1].includes('dreiviertel')) {\n                timerString = `(${singleNumberValue}+${timerObject.fraction[inputs[i + 1] as keyof typeof timerObject.fraction]})*3600`;\n                inputs.splice(i, 2);\n                break;\n            }\n        }\n        for (const _input of inputs) {\n            const { connector, notNoted, stopAll, hour, minute, second } = timerObject.timerActive.data;\n            const input = _input.toLowerCase().trim();\n\n            if (notNoted.indexOf(input) >= 0) {\n                continue;\n            }\n\n            if (stopAll.indexOf(input) >= 0) {\n                deleteVal++;\n                continue;\n            }\n\n            if (connector.indexOf(input) >= 0) {\n                if (timerString.charAt(timerString.length - 1) !== '+') {\n                    timerString += '+';\n                }\n                continue;\n            }\n\n            if (hour.indexOf(input) >= 0 && !timerString.includes('*3600')) {\n                timerString += ')*3600+';\n                continue;\n            }\n\n            if (minute.indexOf(input) >= 0) {\n                timerString += ')*60+';\n                continue;\n            }\n\n            if (second.indexOf(input) >= 0 && timerString.charAt(timerString.length - 1) != ')') {\n                timerString += ')';\n                continue;\n            }\n\n            const fractionElement = timerObject.fraction[input as keyof typeof timerObject.fraction];\n\n            if (fractionElement && !timerString.includes('*3600')) {\n                if (timerString.charAt(timerString.length - 1) == '') {\n                    timerString += '(1';\n                }\n                timerString += `*${fractionElement})*3600`;\n                continue;\n            }\n\n            const elNumber: number | undefined = timerObject.numbers[input as keyof typeof timerObject.numbers];\n            if (elNumber) {\n                if (timerObject.digits.indexOf(timerString.charAt(timerString.length - 1)) == -1) {\n                    if (timerString.charAt(timerString.length - 3) != '(') {\n                        timerString += `(${elNumber}`;\n                    } else {\n                        timerString += elNumber;\n                    }\n                    continue;\n                }\n                if (input == 'hundert') {\n                    timerString += `*${elNumber}`;\n                    continue;\n                }\n\n                timerString += `+${elNumber}`;\n                continue;\n            }\n\n            const elementAsNumber = parseInt(input);\n            if (!isNaN(elementAsNumber)) {\n                if (timerString == '') {\n                    timerString = '(';\n                }\n                if (timerString.endsWith('+')) {\n                    timerString += '(';\n                }\n                timerString += elementAsNumber;\n                continue;\n            }\n            const notAsName = [...notNoted, 'stunde', 'stunden', 'minute', 'minuten', 'sekunde', 'sekunden'];\n            if (!(store.isShortenTimer() || store.isExtendTimer()) && !notAsName.includes(input)) {\n                name = input.trim();\n            }\n        }\n\n        if (timerString.charAt(timerString.length - 1) == '+') {\n            timerString = timerString.slice(0, timerString.length - 1);\n        }\n        if (inputs.length) {\n            timerString = hasMinutes(timerString);\n            timerString = checkFirstChartForBracket(timerString);\n        }\n        if (countOccurrences(timerString, ')') > countOccurrences(timerString, '(')) {\n            timerString = `(${timerString}`;\n        }\n\n        return { timerString, name, deleteVal: deleteVal > 2 ? 2 : deleteVal };\n    } catch (e: any) {\n        errorLogger('Error in filterInfo', e, _this);\n        return { timerString: '', name: '', deleteVal: 0 };\n    }\n};\n\nfunction hasMinutes(timerString: string): string {\n    if (timerString.includes('*3600')) {\n        if (\n            !timerString.includes('*60') &&\n            timerString.slice(timerString.length - 5, timerString.length) != '*3600' &&\n            timerString.charAt(timerString.length - 1) != ')'\n        ) {\n            timerString += ')*60';\n        }\n    }\n    return timerString;\n}\n\nfunction checkFirstChartForBracket(timerString: string): string {\n    if (timerString.charAt(0) == ')') {\n        timerString = timerString.slice(2, timerString.length);\n    }\n    return timerString;\n}\n"],
  "mappings": "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",
  "names": []
}
