{
  "version": 3,
  "sources": ["../../src/lib/reset.ts"],
  "sourcesContent": ["import type AlexaTimerVis from '../main';\nimport { useStore } from '../store/store';\nimport { errorLogger } from './logging';\nimport type { TimerIndex } from '../types/types';\n\nimport { timerObject } from '../config/timer-data';\nimport { writeState } from './write-state';\nimport type { Timer } from '../app/timer';\n\nexport const resetValues = async (timer: Timer, index: TimerIndex): Promise<void> => {\n    const { _this, getAlexaTimerVisInstance } = useStore();\n\n    try {\n        timerObject.timerActive.timer[index] = false; // Timer auf false setzen falls Zeit abgelaufen ist, ansonsten steht er schon auf false\n        _this.log.debug(JSON.stringify(timerObject.timerActive));\n        timer.reset();\n\n        await _this.setObject(getAlexaTimerVisInstance() + index, {\n            type: 'device',\n            common: { name: `` },\n            native: {},\n        });\n    } catch (e: any) {\n        errorLogger('Error in resetValues', e, _this);\n    }\n};\n\nexport function resetAllTimerValuesAndState(_this: AlexaTimerVis): void {\n    Object.keys(timerObject.timer).forEach(el => {\n        resetValues(timerObject.timer[el], el).catch(e => {\n            errorLogger('Error in resetAllTimerValuesAndState', e, _this);\n        });\n\n        writeState({ reset: true }).catch(e => {\n            errorLogger('Error in resetAllTimerValuesAndState', e, _this);\n        });\n    });\n    _this.setStateChanged('all_Timer.alive', false, true);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,mBAAyB;AACzB,qBAA4B;AAG5B,wBAA4B;AAC5B,yBAA2B;AAGpB,MAAM,cAAc,OAAO,OAAc,UAAqC;AACjF,QAAM,EAAE,OAAO,yBAAyB,QAAI,uBAAS;AAErD,MAAI;AACA,kCAAY,YAAY,MAAM,KAAK,IAAI;AACvC,UAAM,IAAI,MAAM,KAAK,UAAU,8BAAY,WAAW,CAAC;AACvD,UAAM,MAAM;AAEZ,UAAM,MAAM,UAAU,yBAAyB,IAAI,OAAO;AAAA,MACtD,MAAM;AAAA,MACN,QAAQ,EAAE,MAAM,GAAG;AAAA,MACnB,QAAQ,CAAC;AAAA,IACb,CAAC;AAAA,EACL,SAAS,GAAQ;AACb,oCAAY,wBAAwB,GAAG,KAAK;AAAA,EAChD;AACJ;AAEO,SAAS,4BAA4B,OAA4B;AACpE,SAAO,KAAK,8BAAY,KAAK,EAAE,QAAQ,QAAM;AACzC,gBAAY,8BAAY,MAAM,EAAE,GAAG,EAAE,EAAE,MAAM,OAAK;AAC9C,sCAAY,wCAAwC,GAAG,KAAK;AAAA,IAChE,CAAC;AAED,uCAAW,EAAE,OAAO,KAAK,CAAC,EAAE,MAAM,OAAK;AACnC,sCAAY,wCAAwC,GAAG,KAAK;AAAA,IAChE,CAAC;AAAA,EACL,CAAC;AACD,QAAM,gBAAgB,mBAAmB,OAAO,IAAI;AACxD;",
  "names": []
}
